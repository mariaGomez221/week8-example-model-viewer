<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Model Viewer - Example</title>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css?v=1.0"/>
  <style>
    .interactive-demo {
      max-width: 1400px;
      margin: 40px auto;
      padding: 0 16px;
    }

    .demo-container {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 24px;
      margin-top: 24px;
    }

    @media (max-width: 1024px) {
      .demo-container {
        grid-template-columns: 1fr;
      }
    }

    .model-wrapper {
      position: relative;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .controls-panel {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      max-height: 800px;
      overflow-y: auto;
    }

    .controls-panel h3 {
      margin: 0 0 20px;
      font-size: 1.5rem;
      font-family: 'Playfair Display', serif;
      color: #667eea;
      border-bottom: 2px solid #667eea;
      padding-bottom: 10px;
    }

    .control-group {
      margin-bottom: 24px;
    }

    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2d3748;
      font-size: 0.9rem;
    }

    .control-group input[type="range"] {
      width: 100%;
      margin-bottom: 4px;
    }

    .control-group input[type="color"] {
      width: 100%;
      height: 40px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      cursor: pointer;
    }

    .control-group select {
      width: 100%;
      padding: 10px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 1rem;
      background: white;
      cursor: pointer;
    }

    .control-group button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      margin-top: 8px;
    }

    .control-group button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .control-group button.secondary {
      background: #e2e8f0;
      color: #2d3748;
    }

    .value-display {
      font-size: 0.85rem;
      color: #718096;
      margin-top: 4px;
    }

    .hotspot-info {
      position: absolute;
      background: white;
      padding: 12px 16px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      max-width: 250px;
      z-index: 10;
      display: none;
      pointer-events: none;
    }

    .hotspot-info.visible {
      display: block;
    }

    .hotspot-info h4 {
      margin: 0 0 8px;
      font-size: 1rem;
      color: #667eea;
    }

    .hotspot-info p {
      margin: 0;
      font-size: 0.9rem;
      color: #4a5568;
      line-height: 1.5;
    }

    #interactive-model {
      width: 100%;
      height: 600px;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 12px;
    }

    .toggle-switch {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 8px;
    }

    .toggle-switch input[type="checkbox"] {
      width: 50px;
      height: 26px;
      appearance: none;
      background: #cbd5e0;
      border-radius: 13px;
      position: relative;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .toggle-switch input[type="checkbox"]:checked {
      background: #667eea;
    }

    .toggle-switch input[type="checkbox"]::before {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: white;
      top: 2px;
      left: 2px;
      transition: transform 0.3s ease;
    }

    .toggle-switch input[type="checkbox"]:checked::before {
      transform: translateX(24px);
    }

    .info-section {
      background: #f7fafc;
      padding: 16px;
      border-radius: 8px;
      margin-top: 24px;
      border-left: 4px solid #667eea;
    }

    .info-section h4 {
      margin: 0 0 8px;
      color: #667eea;
      font-size: 1rem;
    }

    .info-section p {
      margin: 0;
      font-size: 0.9rem;
      color: #4a5568;
      line-height: 1.6;
    }

    .button-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="index.html" aria-label="Home">Brand</a>
      <ul>
        <li><a href="index.html#products">Products</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="interactive-demo">
      <div class="hero" style="margin-bottom: 24px;">
        <h1>Interactive Model Viewer</h1>
        <p>Explore the model with hotspots and customize its appearance in real-time.</p>
      </div>

      <div class="demo-container">
        <div class="model-wrapper">
          <model-viewer
            id="interactive-model"
            src="assets/strawberry.glb"
            alt="Strawberry cake"
            camera-controls
            touch-action="pan-y"
            autoplay
            shadow-intensity="1"
            exposure="1"
            environment-image="neutral"
            auto-rotate
            auto-rotate-delay="0">
            
            <!-- Hotspots using button elements -->
            <button
              slot="hotspot-1"
              data-position="0 0.5 0"
              data-normal="0 1 0"
              data-visibility-attribute="visible"
              class="hotspot"
              style="background-color: rgba(102, 126, 234, 0.8); border-radius: 50%; width: 20px; height: 20px; border: 2px solid white; cursor: pointer;">
            </button>
            
            <button
              slot="hotspot-2"
              data-position="0.3 0.3 0.3"
              data-normal="1 0 0"
              data-visibility-attribute="visible"
              class="hotspot"
              style="background-color: rgba(118, 75, 162, 0.8); border-radius: 50%; width: 20px; height: 20px; border: 2px solid white; cursor: pointer;">
            </button>
            
            <button
              slot="hotspot-3"
              data-position="-0.3 0.3 -0.3"
              data-normal="-1 0 0"
              data-visibility-attribute="visible"
              class="hotspot"
              style="background-color: rgba(240, 147, 251, 0.8); border-radius: 50%; width: 20px; height: 20px; border: 2px solid white; cursor: pointer;">
            </button>
          </model-viewer>
          
          <!-- Hotspot info tooltip -->
          <div id="hotspot-info" class="hotspot-info">
            <h4 id="hotspot-title"></h4>
            <p id="hotspot-description"></p>
          </div>
        </div>

        <div class="controls-panel">
          <h3>Model Controls</h3>

          <!-- Camera Presets -->
          <div class="control-group">
            <label>Camera Views</label>
            <div class="button-group">
              <button onclick="setCameraView('front')">Front</button>
              <button onclick="setCameraView('side')">Side</button>
              <button onclick="setCameraView('top')">Top</button>
              <button onclick="setCameraView('back')">Back</button>
            </div>
            <button onclick="resetCamera()" class="secondary" style="margin-top: 8px;">Reset View</button>
          </div>

          <!-- Auto Rotate -->
          <div class="control-group">
            <label>Auto Rotate</label>
            <div class="toggle-switch">
              <input type="checkbox" id="auto-rotate" checked onchange="toggleAutoRotate()">
              <span>Enable automatic rotation</span>
            </div>
          </div>

          <!-- Exposure -->
          <div class="control-group">
            <label>Exposure</label>
            <input type="range" id="exposure" min="0" max="2" step="0.1" value="1" oninput="updateExposure(this.value)">
            <div class="value-display">Value: <span id="exposure-value">1.0</span></div>
          </div>

          <!-- Shadow Intensity -->
          <div class="control-group">
            <label>Shadow Intensity</label>
            <input type="range" id="shadow-intensity" min="0" max="2" step="0.1" value="1" oninput="updateShadowIntensity(this.value)">
            <div class="value-display">Value: <span id="shadow-value">1.0</span></div>
          </div>

          <!-- Environment -->
          <div class="control-group">
            <label>Environment</label>
            <select id="environment" onchange="updateEnvironment(this.value)">
              <option value="neutral">Neutral</option>
              <option value="https://modelviewer.dev/shared-assets/environments/spruit_sunrise_1k_HDR.hdr">Sunrise</option>
              <option value="https://modelviewer.dev/shared-assets/environments/studio_country_hall_1k.hdr">Studio</option>
              <option value="https://modelviewer.dev/shared-assets/environments/aircraft_workshop_01_1k.hdr">Workshop</option>
            </select>
          </div>

          <!-- Background Color -->
          <div class="control-group">
            <label>Background Color</label>
            <input type="color" id="background-color" value="#f5f7fa" onchange="updateBackgroundColor(this.value)">
          </div>

          <!-- Animation Controls -->
          <div class="control-group">
            <label>Animation</label>
            <div class="button-group">
              <button onclick="playAnimation()">Play</button>
              <button onclick="pauseAnimation()">Pause</button>
            </div>
          </div>

          <!-- Reset All -->
          <div class="control-group">
            <button onclick="resetAll()" class="secondary">Reset All Settings</button>
          </div>

          <!-- Info Section -->
          <div class="info-section">
            <h4>ðŸ’¡ How to Use</h4>
            <p><strong>Hotspots:</strong> Click on the colored dots on the model to learn more about specific features.</p>
            <p><strong>Controls:</strong> Use the panel to customize lighting, environment, and viewing angles.</p>
            <p><strong>Navigation:</strong> Click and drag to rotate, scroll to zoom, right-click and drag to pan.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="js/interactive-demo.js"></script>
</body>
</html>

