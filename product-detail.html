<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Detail - Interactive View</title>
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css?v=1.0"/>
  <link rel="stylesheet" href="css/product-detail.css?v=1.0"/>
</head>
<body>
  <header>
    <nav>
      <a href="index.html" aria-label="Home">Humber Cakes</a>
      <ul>
        <li><a href="index.html#products">Products</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="product-detail-section">
      <div class="detail-container">
        <div class="model-viewer-container">
          <div class="product-header">
            <h1 id="product-title">Loading...</h1>
            <a href="index.html#products" class="back-button">‚Üê Back to Products</a>
          </div>
          
          <div class="model-wrapper">
            <model-viewer
              id="detail-model-viewer"
              src=""
              alt="3D Model"
              camera-controls
              touch-action="pan-y"
              autoplay
              shadow-intensity="1"
              exposure="1"
              environment-image="neutral"
              auto-rotate
              auto-rotate-delay="0">
            </model-viewer>
            
            <!-- Hotspot info tooltip -->
            <div id="hotspot-tooltip" class="hotspot-tooltip">
              <div class="tooltip-header">
                <h4 id="tooltip-title"></h4>
                <button class="tooltip-close" onclick="closeHotspotTooltip()">√ó</button>
              </div>
              <p id="tooltip-description"></p>
              <div id="tooltip-actions" class="tooltip-actions"></div>
            </div>
          </div>

          <div class="product-info">
            <p id="product-description">Click on the hotspots on the model to customize and learn more about this product.</p>
            <div class="info-tags">
              <span class="tag">3D Interactive</span>
              <span class="tag">Customizable</span>
              <span class="tag">AR Ready</span>
            </div>
          </div>
        </div>

        <div class="controls-sidebar">
          <h3>Customization</h3>
          
          <!-- Lighting Controls -->
          <div class="control-group">
            <label>Exposure</label>
            <input type="range" id="exposure" min="0" max="2" step="0.1" value="1" oninput="updateExposure(this.value)">
            <div class="value-display">Value: <span id="exposure-value">1.0</span></div>
          </div>

          <div class="control-group">
            <label>Shadow Intensity</label>
            <input type="range" id="shadow-intensity" min="0" max="2" step="0.1" value="1" oninput="updateShadowIntensity(this.value)">
            <div class="value-display">Value: <span id="shadow-value">1.0</span></div>
          </div>

          <div class="control-group">
            <label>Environment</label>
            <select id="environment" onchange="updateEnvironment(this.value)">
              <option value="neutral">Neutral</option>
              <option value="https://modelviewer.dev/shared-assets/environments/spruit_sunrise_1k_HDR.hdr">Sunrise</option>
              <option value="https://modelviewer.dev/shared-assets/environments/studio_country_hall_1k.hdr">Studio</option>
              <option value="https://modelviewer.dev/shared-assets/environments/aircraft_workshop_01_1k.hdr">Workshop</option>
            </select>
          </div>

          <div class="control-group">
            <label>Background Color</label>
            <input type="color" id="background-color" value="#f5f7fa" onchange="updateBackgroundColor(this.value)">
          </div>

          <!-- Camera Controls -->
          <div class="control-group">
            <label>Camera Views</label>
            <div class="button-group">
              <button onclick="setCameraView('front')">Front</button>
              <button onclick="setCameraView('side')">Side</button>
              <button onclick="setCameraView('top')">Top</button>
              <button onclick="setCameraView('back')">Back</button>
            </div>
            <button onclick="resetCamera()" class="secondary-button" style="margin-top: 8px;">Reset View</button>
          </div>

          <!-- Auto Rotate -->
          <div class="control-group">
            <label>Auto Rotate</label>
            <div class="toggle-switch">
              <input type="checkbox" id="auto-rotate" checked onchange="toggleAutoRotate()">
              <span>Enable automatic rotation</span>
            </div>
          </div>

          <!-- Reset All -->
          <div class="control-group">
            <button onclick="resetAll()" class="secondary-button">Reset All Settings</button>
          </div>

          <!-- Instructions -->
          <div class="info-box">
            <h4>üí° How to Use</h4>
            <p><strong>Hotspots:</strong> Click the colored dots on the model to customize features and learn more.</p>
            <p><strong>Controls:</strong> Use the panel to adjust lighting, environment, and viewing angles.</p>
            <p><strong>Navigation:</strong> Click and drag to rotate, scroll to zoom, right-click and drag to pan.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="js/product-detail.js"></script>
</body>
</html>

